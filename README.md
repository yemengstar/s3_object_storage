# S3兼容对象存储上传工具 - ROS S3 Uploader

一个美观现代化的S3兼容对象存储上传工具。

## ✨ 特性

- **美观界面**：淡蓝色系猫娘主题，现代化设计
- **批量上传**：支持多文件同时上传
- **多线程**：可配置并发线程数，提升上传速度
- **实时进度**：实时显示上传进度和状态
- **自动链接**：自动生成公开URL并复制到剪贴板
- **连接测试**：上传前可测试S3连接
- **日志记录**：详细的操作日志

## 项目结构

```
s3_uploader/
├── main.py                    # 主程序入口
├── requirements.txt           # 依赖列表
├── README.md                  # 项目说明
├── core/                      # 核心功能模块
│   ├── __init__.py
│   ├── s3_client.py          # S3客户端封装
│   └── upload_manager.py     # 上传任务管理器
└── gui/                       # 图形界面模块
    ├── __init__.py
    ├── theme.py              # 主题配置
    ├── widgets.py            # 自定义UI组件
    └── main_window.py        # 主窗口界面
```

## 安装依赖

```bash
pip install -r requirements.txt
```

## 快速开始

1. **运行程序**

```bash
python main.py
```

2. **配置S3连接**
   - 填写端点URL（如：https://s3.example.com）
   - 填写存储桶名称
   - 填写访问密钥和私密密钥
   - （可选）填写CDN公开URL
   - （可选）填写路径前缀

3. **测试连接**
   - 点击"🔌 测试连接"按钮验证配置

4. **添加文件**
   - 点击"➕ 添加文件"选择要上传的文件
   - 可以多次添加，支持批量选择

5. **开始上传**
   - 设置并发线程数（建议3-5）
   - 点击"🚀 开始上传"
   - 查看实时进度和日志

## 主题特色

- **配色方案**：淡蓝色系（#B8E6F5, #7BC8E8）
- **强调色**：粉色猫娘元素（#FF9ECE）
- **字体**：Microsoft YaHei UI
- **圆角设计**：柔和的视觉效果
- **悬停效果**：交互式按钮反馈

## 配置说明

### 必填项
- **端点URL**：S3服务的端点地址
- **存储桶**：目标存储桶名称
- **访问密钥**：S3访问密钥ID
- **私密密钥**：S3私密访问密钥

### 可选项
- **公开URL**：自定义CDN域名（如配置，将优先用于生成链接）
- **路径前缀**：在存储桶中的文件夹路径
- **公开可读**：是否设置ACL为public-read

## 支持的S3服务

- Amazon S3
- MinIO
- 阿里云OSS（S3兼容模式）
- 腾讯云COS（S3兼容模式）
- Backblaze B2
- DigitalOcean Spaces
- Wasabi
- 其他S3兼容对象存储

## 技术栈

- **Python 3.8+**
- **Tkinter**：GUI框架
- **boto3**：AWS SDK for Python
- **pyperclip**：剪贴板操作（可选）

## 开发说明

### 模块职责

**core/s3_client.py**
- S3客户端封装
- 上传进度回调
- URL生成器

**core/upload_manager.py**
- 多线程任务调度
- 任务队列管理
- 进度统计

**gui/theme.py**
- 颜色配置
- 字体配置
- 样式预设

**gui/widgets.py**
- 自定义组件封装
- 统一样式应用
- 交互效果

**gui/main_window.py**
- 主窗口布局
- 事件处理
- 回调绑定

## 功能特点

### 智能上传
- 自动检测文件MIME类型
- 支持大文件分片上传（>5MB）
- 断点续传支持（boto3内置）

### 用户体验
- 实时进度显示
- 自动复制链接到剪贴板
- 详细的日志输出
- 友好的错误提示

### 性能优化
- 多线程并发上传
- 可配置线程数
- 优化的传输配置

## 常见问题

**Q: 连接失败怎么办？**
A: 
1. 检查端点URL格式是否正确（需要包含https://）
2. 确认访问密钥和私密密钥正确
3. 检查网络连接
4. 尝试使用"测试连接"功能

**Q: 上传失败？**
A: 
1. 检查存储桶名称是否正确
2. 确认有写入权限
3. 检查文件大小限制
4. 查看日志中的详细错误信息

**Q: 没有生成公开链接？**
A: 
1. 确保勾选了"设置为公开可读"
2. 填写正确的公开URL或确保端点可直接访问
3. 部分S3服务需要额外配置存储桶策略

**Q: 如何使用CDN加速？**
A: 在"公开URL"处填写CDN域名，上传后会自动使用CDN链接

## License

AGPL-3.0 license

## 贡献

欢迎提交Issue和Pull Request！